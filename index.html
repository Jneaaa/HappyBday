<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday!</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f5f0eb;
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
    }

    /* Lock Screen */
    #lockScreen {
      height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f5f0eb;
    }
    #lockBox {
      text-align: center;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    #lockBox h2 { margin-bottom: 15px; }
    #accessCode {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #aaa;
      outline: none;
    }
    #unlockBtn {
      margin-left: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #e5b7a0;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    #unlockBtn:hover { background: #d49a85; }
    #errorMsg { color: red; display: none; margin-top: 10px; }

    /* Hide main site until unlocked */
    #mainSite { display: none; }

    /* Existing Styles */
    .page {
      display: none;
      height: 100vh;
      width: 100%;
      padding: 20px;
      box-sizing: border-box;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .active { display: flex !important; }
    h1 { font-size: 2.5rem; color: #7a4e48; margin: 10px 0; }
    h2 { margin: 15px 0; font-size: 1.5rem; }
    .birthday-gif { width: 200px; margin-bottom: 20px; border-radius: 15px; }
    .button-group { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
    button { padding: 12px 24px; border: none; border-radius: 10px; font-size: 1rem; cursor: pointer; background: #e5b7a0; color: #fff; transition: 0.3s; }
    button:hover { background: #d49a85; }
    .cards { display: flex; justify-content: center; gap: 40px; margin-top: 30px; }
    .card { width: 120px; height: 120px; border: 3px solid #7a4e48; border-radius: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s; background: #fff; }
    .card:hover { transform: scale(1.1); }
    .card img { width: 60px; }
    .photos-layout { display: flex; gap: 50px; align-items: center; justify-content: center; height: 100%; width: 100%; }
    .left-photos { display: flex; flex-direction: column; gap: 20px; }
    .left-photos img { width: 220px; border-radius: 15px; object-fit: cover; }
    .right-memes { display: flex; flex-direction: column; align-items: center; }
    .right-memes .title { margin-bottom: 20px; font-size: 2rem; letter-spacing: 2px; text-transform: uppercase; }
    .memes-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; }
    .meme { display: flex; flex-direction: column; align-items: center; text-align: center; }
    .meme img { width: 120px; height: 120px; object-fit: cover; border-radius: 50%; border: 3px solid #7a4e48; margin-bottom: 8px; }
    .meme p { font-size: 0.9rem; margin: 0; }
    .return-btn { margin-top: 30px; padding: 10px 20px; border: none; border-radius: 10px; background: #e5b7a0; color: #fff; cursor: pointer; transition: 0.3s; }
    .return-btn:hover { background: #d49a85; }
    .popup { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; z-index: 1000; }
    .popup-content { background: white; padding: 20px; border-radius: 15px; text-align: center; }
    .popup-content img { width: 150px; }
    .letter { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 15px; border: 2px solid #7a4e48; text-align: left; line-height: 1.6; }
    .flowers img { width: 200px; margin-bottom: 20px; }
  </style>
</head>
<body>

  <!-- Lock Screen -->
  <div id="lockScreen">
    <div id="lockBox">
      <h2>üîí Enter Access Code</h2>
      <input type="password" id="accessCode" placeholder="Enter code">
      <button id="unlockBtn" onclick="checkCode()">Unlock</button>
      <p id="errorMsg">Wrong code. Try again!</p>
    </div>
  </div>

  <!-- Main Website -->
  <div id="mainSite">
    <!-- Page 1: Greeting -->
    <div id="page1" class="page active">
      <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExajhvaGY1cnVpMGc0MTY3NTlqbTMzOWI5MTN6MGU2eGM0NHY0ZWJheiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/IzXiddo2twMmdmU8Lv/giphy.gif" 
           alt="Birthday Gif" class="birthday-gif">
      <h1>üéâ Happy Birthday, My Love! üéÇ</h1>
      <h2>Do you want to see your gift?</h2>
      <div class="button-group">
        <button onclick="showPopup()">No Thanks</button>
        <button onclick="goToPage('page2')">Yes My Love</button>
      </div>
    </div>

    <!-- Sad Popup -->
    <div class="popup" id="sadPopup">
      <div class="popup-content">
        <img src="https://media3.giphy.com/media/9Y5BbDSkSTiY8/giphy.gif" alt="sad">
        <p>awww why? You'll love it üíî</p>
        <button onclick="closePopup()">Okay</button>
      </div>
    </div>

    <!-- Page 2: Gift Options -->
    <div id="page2" class="page">
      <h2>Pick and Click!</h2>
      <div class="cards">
        <div class="card" onclick="goToPage('photosPage')">
          <img src="image.png" alt="Photos">
        </div>
        <div class="card" onclick="goToPage('letterPage')">
          <img src="email.png" alt="Letter">
        </div>
        <div class="card" onclick="goToPage('flowersPage')">
          <img src="flower.png" alt="Flowers">
        </div>
      </div>
      <p>i hope you'll love them, my love &lt;3</p>
    </div>

    <!-- Photos Page -->
    <div id="photosPage" class="page">
      <div class="photos-layout">
        <div class="left-photos">
          <img src="photo1.jpeg" alt="photo1">
          <img src="photo2.jpeg" alt="photo2">
        </div>
        <div class="right-memes">
          <h2 class="title">ME WHEN:</h2>
          <div class="memes-grid">
            <div class="meme"><img src="face1.jpeg" alt="asar moko"><p>asar moko</p></div>
            <div class="meme"><img src="face2.jpeg" alt="busy ikaw"><p>busy ikaw</p></div>
            <div class="meme"><img src="face3.jpeg" alt="compliment moko"><p>compliment moko</p></div>
            <div class="meme"><img src="face4.jpeg" alt="u make lambing"><p>u make lambing</p></div>
            <div class="meme"><img src="face5.jpeg" alt="u reply so tagal"><p>u reply so tagal</p></div>
          </div>
          <button onclick="goToPage('page2')" class="return-btn">Return</button>
        </div>
      </div>
    </div>

    <!-- Letter Page -->
    <div id="letterPage" class="page">
      <h2>My Letter to You üíå</h2>
      <div class="letter">
        <p>
          My love, on your special day, I just want to remind you how much you mean to me.  
          Thank you for being the light in my life, my comfort, and my happiness.  
          I‚Äôm so lucky to celebrate you today, I know I could'nt come over to celebrate 
          your birthday and our 1 year anniversary but I hope this gift works nalg din hehe.
          <br><br>
          I love you my Nathaniel, My love I wish you a happy birthday üéÇ‚ù§Ô∏è
        </p>
      </div>
      <button onclick="goToPage('page2')">Return</button>
    </div>

    <!-- Flowers + Music Page -->
    <div id="flowersPage" class="page">
      <h2>Flowers for You üå∏</h2>
      <div class="flowers">
        <img src="flower-bouquet.png" alt="Flowers">
        <h3>Listen to this my love:</h3>
        <br>
        <audio id="song" controls onended="showVideoButton()">
          <source src="ThePool.mp3" type="audio/mp3">
          Your browser does not support audio.
        </audio>

        <!-- Hidden button appears after song ends -->
        <div>
          <button id="sendVideoBtn" style="display:none; margin-top:20px;" onclick="sendVideo()">üéÅ Send Surprise Video</button>
        </div>
      </div>
      <button onclick="goToPage('page2')">Return</button>
    </div>
  </div>

  <!-- EmailJS Script -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // Unlock screen
    function checkCode() {
      const code = document.getElementById("accessCode").value;
      const correctCode = "0925"; // <--- Change this to your secret code

      if (code === correctCode) {
        document.getElementById("lockScreen").style.display = "none";
        document.getElementById("mainSite").style.display = "block";
      } else {
        document.getElementById("errorMsg").style.display = "block";
      }
    }

    // Page navigation
    function goToPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
    }

    // Popup controls
    function showPopup() {
      document.getElementById('sadPopup').style.display = 'flex';
    }
    function closePopup() {
      document.getElementById('sadPopup').style.display = 'none';
    }

    // EmailJS init (‚úÖ only once!)
    (function() {
      emailjs.init("0zIVfrxQgQ2jWD8unXS1L"); // your real EmailJS public key
    })();

    // Reveal button after music ends
    function showVideoButton() {
      document.getElementById("sendVideoBtn").style.display = "block";
    }

    // Send surprise video
    function sendVideo() {
      emailjs.send("service_7k7y4ol", "template_vi2qo4p", {
        to_email: "jneaaa04@gmail.com", 
        message: "Happy Birthday my love! üéÇ‚ù§Ô∏è Here‚Äôs your surprise video: https://drive.google.com/file/d/129peUbsxHojAm9rig7ydZOKnCTuikqm9/view?usp=sharing"
      })
      .then(function() {
        alert("üéâ Video sent to your email!");
      }, function(error) {
        alert("‚ùå Aww failed to send email. Just ask me for it huhu di ko ma link .");
        console.error(error);
      });
    }
  </script>
</body>
</html>
